{"version":3,"sources":["scripts/app.js"],"names":["angular","module","coreTabs","TabsController","$scope","tabsVm","this","$on","event","userData","userPlaycount","$inject","directive","restrict","templateUrl","controller","controllerAs","TopTracksController","$http","$log","apiPlaceholders","ctrl","userTopTracks","placeholderTrack","TRACK","component","TopArtistsController","userTopArtists","placeholderArtist","ARTIST","TopAlbumsController","userTopAlbums","placeholderAlbum","ALBUM","RecentTracks","userRecentTracks","placeholderNow","NOW","coreFooter","FooterController","footerVm","logo","entry","appUrl","teamUrl","coreHeader","HeaderController","apiConfig","API","getUserData","userInfo","error","headerVm","isLoading","user","playcount","$broadcast","limit","LIMIT","getUserTopAlbums","period","then","getUserTopArtists","getUserTopTracks","getUserRecentTracks","data","headline","USER","PERIOD","periods","PERIODS","searchUser","getUserInfo","trustAsResourceUrl","$sce","url","humanizePeriod","scrobbles","scroobles","percentage","filter","run","$rootScope","typeOf","value","require","link","scope","element","attrs","ngModel","$parsers","push","$formatters","parseFloat","APIMethods","$q","apiMethods","ret","defer","parameters","param","method","GET_USER_INFO","api_key","API_KEY","format","FORMAT","get","URL","success","r","resolve","err","debug","reject","promise","GET_USER_TOP_ALBUMS","GET_USER_TOP_ARTISTS","GET_USER_TOP_TRACKS","extended","GET_USER_RECENT_TRACKS","factory","MainController","vm","placeholderUser","runBlock","$document","$window","$timeout","timer","body","addEventListener","clearTimeout","classList","contains","add","remove","routerConfig","$routeProvider","$locationProvider","when","title","otherwise","redirectTo","html5Mode","config","constant","$mdThemingProvider","appPrimaryPallete","extendPalette","contrastDefaultColor","contrastDarkColors","appAccentPallete","definePalette","theme","primaryPalette","default","hue-1","hue-2","hue-3","accentPalette","$templateCache","put"],"mappings":"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","file":"scripts/app-342cdc499a.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('museek', [\n      'ngAnimate',\n      'ngCookies',\n      'ngSanitize',\n      'ngMessages',\n      'ngAria',\n      'ngResource',\n      'ngRoute',\n      'ngMaterial'\n    ]);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .directive('coreTabs', coreTabs);\n\n  /** @ngInject */\n  function coreTabs() {\n    var directive = {\n      restrict: 'EA',\n      templateUrl: 'app/components/tabs/tabs.html',\n      controller: TabsController,\n      controllerAs: 'tabsVm'\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function TabsController($scope) {\n      var tabsVm = this;\n\n      $scope.$on('onGetUserPlaycount', function(event, userData) {\n        tabsVm.userPlaycount = userData.userPlaycount;\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .component('topTracks', {\n      templateUrl: 'app/components/listbox/top-tracks.html',\n      controller: TopTracksController\n    });\n\n  /** @ngInject */\n  function TopTracksController($scope, $http, $log, apiPlaceholders) {\n    var ctrl = this;\n\n    $scope.$on('onGetUserTopTracks', function(event, userData) {\n      if (userData) {\n        ctrl.userTopTracks = userData.userTopTracks['toptracks']['track'];\n        ctrl.userPlaycount = userData.userPlaycount;\n\n        ctrl.placeholderTrack = apiPlaceholders.TRACK;\n      }\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .component('topArtists', {\n      templateUrl: 'app/components/listbox/top-artists.html',\n      controller: TopArtistsController\n    });\n\n  /** @ngInject */\n  function TopArtistsController($scope, $http, $log, apiPlaceholders) {\n    var ctrl = this;\n\n    $scope.$on('onGetUserTopArtists', function(event, userData) {\n      if (userData) {\n        ctrl.userTopArtists = userData.userTopArtists['topartists']['artist'];\n        ctrl.userPlaycount = userData.userPlaycount;\n\n        ctrl.placeholderArtist = apiPlaceholders.ARTIST;\n      }\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .component('topAlbums', {\n      templateUrl: 'app/components/listbox/top-albums.html',\n      controller: TopAlbumsController\n    });\n\n  /** @ngInject */\n  function TopAlbumsController($scope, $http, $log, apiPlaceholders) {\n    var ctrl = this;\n\n    $scope.$on('onGetUserTopAlbums', function(event, userData) {\n      if (userData) {\n        ctrl.userTopAlbums = userData.userTopAlbums['topalbums']['album'];\n        ctrl.userPlaycount = userData.userPlaycount;\n\n        ctrl.placeholderAlbum = apiPlaceholders.ALBUM;\n      }\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .component('recentTracks', {\n      templateUrl: 'app/components/listbox/recent-tracks.html',\n      controller: RecentTracks\n    });\n\n  /** @ngInject */\n  function RecentTracks($scope, $http, $log, apiPlaceholders) {\n    var ctrl = this;\n\n    $scope.$on('onGetUserRecentTracks', function(event, userData) {\n      if (userData) {\n        ctrl.userRecentTracks = userData.userRecentTracks['recenttracks']['track'];\n\n        ctrl.placeholderNow = apiPlaceholders.NOW;\n        ctrl.placeholderTrack = apiPlaceholders.TRACK;\n      }\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .directive('coreFooter', coreFooter);\n\n  /** @ngInject */\n  function coreFooter() {\n    var directive = {\n      restrict: 'EA',\n      templateUrl: 'app/components/footer/footer.html',\n      controller: FooterController,\n      controllerAs: 'footerVm'\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function FooterController() {\n      var footerVm = this;\n\n      footerVm.logo = \"assets/images/favicon.png\";\n      footerVm.entry = \"Museek\";\n      footerVm.appUrl = \"dubjay.2016.angularattack.io\"\n      footerVm.teamUrl = \"www.angularattack.com/entries/3165-dubjay\"\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .directive('coreHeader', coreHeader);\n\n  /** @ngInject */\n  function coreHeader() {\n    var directive = {\n      restrict: 'EA',\n      templateUrl: 'app/components/header/header.html',\n      controller: HeaderController,\n      controllerAs: 'headerVm'\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function HeaderController($scope, $http, $log, apiConfig, API) {\n      var headerVm = this;\n\n      headerVm.logo = \"assets/images/logo.png\";\n      headerVm.headline = \"Last.fm User Statistics\";\n\n      headerVm.user = apiConfig.USER;\n      headerVm.period = apiConfig.PERIOD;\n      headerVm.periods = apiConfig.PERIODS;\n      headerVm.limit = apiConfig.LIMIT;\n\n\n      function getUserData(userInfo) {\n\n        if (userInfo.error) {\n          headerVm.isLoading = false;\n        }\n        else {\n          var userPlaycount = userInfo.user.playcount;\n\n          $scope.$broadcast('onGetUserPlaycount', {\n            userPlaycount: userPlaycount\n          });\n\n          if (!headerVm.limit) {\n            headerVm.limit = apiConfig.LIMIT;\n          }\n\n          API.getUserTopAlbums(headerVm.user, headerVm.limit, headerVm.period)\n            .then(function(userTopAlbums) {\n              $scope.$broadcast('onGetUserTopAlbums', {\n                userTopAlbums: userTopAlbums,\n                userPlaycount: userPlaycount\n              });\n            });\n\n          API.getUserTopArtists(headerVm.user, headerVm.limit, headerVm.period)\n            .then(function(userTopArtists) {\n              $scope.$broadcast('onGetUserTopArtists', {\n                userTopArtists: userTopArtists,\n                userPlaycount: userPlaycount\n              });\n            });\n\n          API.getUserTopTracks(headerVm.user, headerVm.limit, headerVm.period)\n            .then(function(userTopTracks) {\n              $scope.$broadcast('onGetUserTopTracks', {\n                userTopTracks: userTopTracks,\n                userPlaycount: userPlaycount\n              });\n            });\n\n          API.getUserRecentTracks(headerVm.user, headerVm.limit, 1)\n            .then(function(userRecentTracks) {\n              $scope.$broadcast('onGetUserRecentTracks', {\n                userRecentTracks: userRecentTracks,\n                userPlaycount: userPlaycount\n              });\n              headerVm.isLoading = false;\n            });\n        }\n\n        $scope.$broadcast('onGetUserInfo', {\n          data: userInfo,\n          user: headerVm.user,\n          period: headerVm.period\n        });\n      }\n\n      headerVm.searchUser = function() {\n        headerVm.isLoading = true;\n\n        API.getUserInfo(headerVm.user)\n          .then(function(userInfo) {\n            getUserData(userInfo);\n          });\n      }\n\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .filter('trustAsResourceUrl', trustAsResourceUrl)\n    .filter('humanizePeriod', humanizePeriod)\n    .filter('scrobbles', scrobbles)\n    .filter('percentage', percentage);\n\n  /** @ngInject */\n  function trustAsResourceUrl($sce) {\n    return function(url) {\n      return $sce.trustAsResourceUrl(url);\n    };\n  }\n\n  /** @ngInject */\n  function humanizePeriod() {\n    return function(period) {\n\n      switch (period) {\n\n        case 'overall':\n          return 'Overall';\n\n        case '7day':\n          return 'Last Week';\n\n        case '1month':\n          return 'Last Month';\n\n        case '6month':\n          return 'Last 6 Months';\n\n        case '12month':\n          return 'Last Year';\n\n        default:\n          return 'Undefined';\n\n      }\n    };\n  }\n\n  /** @ngInject */\n  function scrobbles() {\n    return function(scroobles) {\n      return scroobles + ' scroobles';\n    }\n  }\n\n  /** @ngInject */\n  function percentage() {\n    return function(percentage) {\n      return percentage + ' % of total';\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .run(function($rootScope) {\n      $rootScope.typeOf = function(value) {\n        return typeof value;\n      };\n    })\n    .directive('stringToNumber', function() {\n      return {\n        require: 'ngModel',\n        link: function(scope, element, attrs, ngModel) {\n          ngModel.$parsers.push(function(value) {\n            return '' + value;\n          });\n          ngModel.$formatters.push(function(value) {\n            return parseFloat(value, 10);\n          });\n        }\n      };\n    });\n})();\n\n(function() {\n    'use strict';\n\n    angular\n      .module('museek')\n      .factory('API', APIMethods);\n\n    /** @ngInject */\n    function APIMethods($q, $http, $log, apiConfig, apiMethods) {\n      return {\n\n        getUserInfo: function(user) {\n          var ret = $q.defer();\n\n          var parameters =\n            angular.element.param({\n              method: apiMethods.GET_USER_INFO,\n              api_key: apiConfig.API_KEY,\n              format: apiConfig.FORMAT,\n              user: user\n            });\n\n          $http.get(apiConfig.URL + parameters, {}).success(function(r) {\n            // $log.debug('Sucess-> ' + apiMethods.GET_USER_INFO, r);\n            ret.resolve(r);\n          }).error(function(err) {\n            $log.debug('Failed-> ' + apiMethods.GET_USER_INFO, err);\n            ret.reject(err);\n          });\n\n          return ret.promise;\n        },\n\n        getUserTopAlbums: function(user, limit, period) {\n          var ret = $q.defer();\n\n          var parameters =\n            angular.element.param({\n              method: apiMethods.GET_USER_TOP_ALBUMS,\n              api_key: apiConfig.API_KEY,\n              format: apiConfig.FORMAT,\n              user: user,\n              period: period,\n              limit: limit\n            });\n\n          $http.get(apiConfig.URL + parameters, {}).success(function(r) {\n            // $log.debug('Sucess-> ' + apiMethods.GET_USER_TOP_ALBUMS, r);\n            ret.resolve(r);\n          }).error(function(err) {\n            $log.debug('Failed-> ' + apiMethods.GET_USER_TOP_ALBUMS, err);\n            ret.reject(err);\n          });\n\n          return ret.promise;\n        },\n\n        getUserTopArtists: function(user, limit, period) {\n          var ret = $q.defer();\n\n          var parameters =\n            angular.element.param({\n              method: apiMethods.GET_USER_TOP_ARTISTS,\n              api_key: apiConfig.API_KEY,\n              format: apiConfig.FORMAT,\n              user: user,\n              period: period,\n              limit: limit\n            });\n\n          $http.get(apiConfig.URL + parameters, {}).success(function(r) {\n            // $log.debug('Sucess-> ' + apiMethods.GET_USER_TOP_ARTISTS, r);\n            ret.resolve(r);\n          }).error(function(err) {\n            $log.debug('Failed-> ' + apiMethods.GET_USER_TOP_ARTISTS, err);\n            ret.reject(err);\n          });\n\n          return ret.promise;\n        },\n\n\n        getUserTopTracks: function(user, limit, period) {\n          var ret = $q.defer();\n\n          var parameters =\n            angular.element.param({\n              method: apiMethods.GET_USER_TOP_TRACKS,\n              api_key: apiConfig.API_KEY,\n              format: apiConfig.FORMAT,\n              user: user,\n              period: period,\n              limit: limit\n            });\n\n          $http.get(apiConfig.URL + parameters, {}).success(function(r) {\n            // $log.debug('Sucess-> ' + apiMethods.GET_USER_TOP_TRACKS, r);\n            ret.resolve(r);\n          }).error(function(err) {\n            $log.debug('Failed-> ' + apiMethods.GET_USER_TOP_TRACKS, err);\n            ret.reject(err);\n          });\n\n          return ret.promise;\n        },\n\n\n        getUserRecentTracks: function(user, limit, extended) {\n          var ret = $q.defer();\n\n          var parameters =\n            angular.element.param({\n              method: apiMethods.GET_USER_RECENT_TRACKS,\n              api_key: apiConfig.API_KEY,\n              format: apiConfig.FORMAT,\n              user: user,\n              limit: limit,\n              extended: extended\n            });\n\n          $http.get(apiConfig.URL + parameters, {}).success(function(r) {\n            // $log.debug('Sucess-> ' + apiMethods.GET_USER_RECENT_TRACKS, r);\n            ret.resolve(r);\n          }).error(function(err) {\n            $log.debug('Failed-> ' + apiMethods.GET_USER_RECENT_TRACKS, err);\n            ret.reject(err);\n          });\n\n          return ret.promise;\n        }\n      }\n    }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($scope, $http, $log, apiPlaceholders) {\n    var vm = this;\n\n    vm.placeholderUser = apiPlaceholders.USER;\n    vm.placeholderNow = apiPlaceholders.NOW;\n\n    $scope.$on('onGetUserInfo', function(event, data) {\n      vm.userInfo = data;\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $document, $window, $timeout) {\n    var body = $document.body, timer;\n\n    $window.addEventListener('scroll', function() {\n      clearTimeout(timer);\n      if(!body.classList.contains('disable-hover')) {\n        body.classList.add('disable-hover')\n      }\n\n      timer = $timeout(function(){\n        body.classList.remove('disable-hover')\n      },500);\n    }, false);\n\n    $log.debug('Museek loaded successfully.');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($routeProvider, $locationProvider) {\n    $routeProvider\n      .when('/', {\n        title: \"Museek\",\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n\n      // use the HTML5 History API\n      $locationProvider.html5Mode(true);\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .constant('apiConfig', {\n      'URL'     : 'https://ws.audioscrobbler.com/2.0/?',\n      'API_KEY' : '5d78615f919a188a79598df5687242f4',\n      'FORMAT'  : 'json',\n      'USER'    : '',\n      'PERIOD'  : 'overall',\n      'PERIODS' : [\"overall\",\"7day\",\"1month\",\"6month\",\"12month\"],\n      'LIMIT'   : '10'\n    })\n    .constant('apiMethods', {\n      'GET_USER_INFO'           : 'user.getinfo',\n      'GET_USER_RECENT_TRACKS'  : 'user.getrecenttracks',\n      'GET_USER_TOP_ARTISTS'    : 'user.gettopartists',\n      'GET_USER_TOP_ALBUMS'     : 'user.gettopalbums',\n      'GET_USER_TOP_TRACKS'     : 'user.gettoptracks'\n    })\n    .constant('apiPlaceholders', {\n      'ARTIST'  : 'http://img2-ak.lst.fm/i/u/64s/2a96cbd8b46e442fc41c2b86b821562f.png',\n      'ALBUM'   : 'http://img2-ak.lst.fm/i/u/64s/c6f59c1e5e7240a4c0d427abd71f3dbb.png',\n      'TRACK'   : 'http://img2-ak.lst.fm/i/u/64s/4128a6eb29f94943c9d206c08e625904.png',\n      'USER'    : 'http://img2-ak.lst.fm/i/u/120s/818148bf682d429dc215c1705eb27b98.png',\n      'NOW'     : 'http://www.last.fm/static/images/icons/eq_icon.gif?1c74c6f7f0bc'\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('museek')\n    .config(function($mdThemingProvider) {\n      var appPrimaryPallete = $mdThemingProvider.extendPalette('grey', {\n        'contrastDefaultColor': 'light',\n        'contrastDarkColors': ['50']\n      });\n      var appAccentPallete = $mdThemingProvider.extendPalette('red', {});\n\n      $mdThemingProvider.definePalette('appPrimaryTheme', appPrimaryPallete);\n      $mdThemingProvider.definePalette('appAccentTheme',  appAccentPallete);\n\n      $mdThemingProvider.theme('default')\n        .primaryPalette('appPrimaryTheme', {\n          'default': '900',\n          'hue-1': '700',\n          'hue-2': '500',\n          'hue-3': '300'\n        })\n        .accentPalette('appAccentTheme', {\n          'default': '900',\n          'hue-1': '700'\n        });\n    });\n})();\n\nangular.module(\"museek\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<main role=main ng-cloak><md-content flex layout-fill><div core-header ng-cloak></div><section class=content ng-show=!headerVm.isLoading ng-cloak><div class=wrapper ng-show=vm.userInfo.data.error><div class=message><md-icon class=\\\"material-icons md-48 md-accent\\\">error_outline</md-icon><h1 class=md-title>{{ vm.userInfo.data.message }}: {{ vm.userInfo.user }}<h1></h1></h1></div></div><div class=wrapper ng-show=vm.userInfo.data.user><div class=profile><a href=\\\"{{ vm.userInfo.data.user.url }}\\\" target=_blank><img ng-if=\\\"vm.userInfo.data.user.image[2][\\'#text\\']\\\" ng-src=\\\"{{ vm.userInfo.data.user.image[2][\\'#text\\'] | trustAsResourceUrl }}\\\" class=profile-img alt=\\\"{{ vm.userInfo.data.user.name }}\\\"> <img ng-if=\\\"!vm.userInfo.data.user.image[2][\\'#text\\']\\\" ng-src=\\\"{{ vm.placeholderUser | trustAsResourceUrl }}\\\" class=profile-img alt=\\\"{{ vm.userInfo.data.user.name }}\\\"> </a><a href=\\\"{{ vm.userInfo.data.user.url }}\\\" target=_blank><h1 class=profile-name>{{ vm.userInfo.data.user.name }}</h1></a><p class=profile-info>{{ vm.userInfo.data.user.realname }}</p><p class=profile-info>{{ vm.userInfo.data.user.playcount | number:0 }} scrobbles</p></div><div core-tabs ng-cloak></div></div></section><div core-footer ng-show=!headerVm.isLoading ng-cloak></div></md-content></main>\");\n$templateCache.put(\"app/components/header/header.html\",\"<header class=header md-whiteframe=1><md-progress-linear ng-show=headerVm.isLoading class=md-accent md-mode=indeterminate></md-progress-linear><div class=wrapper><img ng-src=\\\"{{ headerVm.logo | trustAsResourceUrl }}\\\" class=header-logo alt=\\\"Museek\\'s logo\\\"><h1 class=\\\"md-headline header-headline\\\">{{ headerVm.headline }}</h1><form ng-submit=headerVm.searchUser() name=userForm><div layout-gt-sm=row><md-input-container class=md-block flex-gt-sm=50><label>Username</label><input type=text autofocus name=username ng-model=headerVm.user required placeholder=\\\"e.g. vandrelc or dungahk\\\"><!-- <div ng-messages=\\\"userForm.username.$error\\\" role=\\\"alert\\\">\\n            <div ng-message=\\\"required\\\">This field is required.</div>\\n          </div> --></md-input-container><md-input-container class=md-block flex-gt-sm=20><label>Limit</label><input type=number name=limit string-to-number ng-model=headerVm.limit placeholder=\\\"Default: 10\\\" max=100 maxlength=3><!-- <div ng-messages=\\\"userForm.limit.$error\\\" role=\\\"alert\\\">\\n            <div ng-message=\\\"max\\\">Maximum Limit: 100.</div>\\n          </div> --></md-input-container><md-input-container class=md-block flex-gt-sm=30><label>Period</label><md-select ng-model=headerVm.period><md-option ng-repeat=\\\"period in headerVm.periods\\\" value=\\\"{{ period }}\\\">{{ period | humanizePeriod }}</md-option></md-select></md-input-container></div><md-button type=submit ng-disabled=headerVm.isLoading class=\\\"md-raised md-accent btn-search\\\"><md-icon ng-show=!headerVm.isLoading class=\\\"material-icons md-24\\\">search</md-icon><span ng-show=headerVm.isLoading>&nbsp;Loading ...</span> <span ng-show=!headerVm.isLoading>&nbsp;Search</span></md-button></form></div></header>\");\n$templateCache.put(\"app/components/footer/footer.html\",\"<footer><div class=wrapper><img ng-src=\\\"{{ footerVm.logo | trustAsResourceUrl }}\\\" class=logo alt=\\\"Museek\\'s logo\\\"><p>{{ footerVm.entry }} Â© 2016</p><a href=\\\"http://{{ footerVm.teamUrl }}\\\" target=_blank><span>{{ footerVm.appUrl }}</span></a></div></footer>\");\n$templateCache.put(\"app/components/listbox/recent-tracks.html\",\"<md-list-item class=md-2-line ng-repeat=\\\"item in $ctrl.userRecentTracks\\\"><a href=\\\"{{ item.url }}\\\" target=_blank><img ng-if=\\\"item.image[1][\\'#text\\']\\\" ng-src=\\\"{{ item.image[1][\\'#text\\'] | trustAsResourceUrl }}\\\" class=\\\"md-avatar md-avatar-56\\\" alt=\\\"{{ item.name }}\\\"> <img ng-if=\\\"!item.image[1][\\'#text\\']\\\" ng-src=\\\"{{ $ctrl.placeholderTrack | trustAsResourceUrl }}\\\" class=\\\"md-avatar md-avatar-56\\\" alt=\\\"{{ item.name }}\\\"></a><div class=md-list-item-text><a href=\\\"{{ item.artist.url }}\\\" target=_blank><span>{{ item.artist.name }}</span></a> <span>&nbsp;&mdash;&nbsp;</span> <a href=\\\"{{ item.url }}\\\" target=_blank><span>{{ item.name }}</span></a><p ng-if=\\\"item.date[\\'#text\\']\\\">{{ (item.date.uts * 1000) | date:\\'MMM d, y - h:mm:ss a\\' }}</p><p ng-if=\\\"item[\\'@attr\\'].nowplaying\\\"><img ng-src=\\\"{{ $ctrl.placeholderNow }}\\\" alt=\\\"Playing Now\\\"> <span>&nbsp;Scrobbling Now</span></p></div><div flex=10 hide-xs class=\\\"md-list-item-text item-right\\\"><md-icon ng-if=\\\"item.loved == 1\\\" class=\\\"material-icons md-accent\\\">favorite</md-icon><md-icon ng-if=\\\"item.loved == 0\\\" class=material-icons>favorite_border</md-icon></div></md-list-item>\");\n$templateCache.put(\"app/components/listbox/top-albums.html\",\"<md-list-item class=md-2-line ng-repeat=\\\"item in $ctrl.userTopAlbums\\\"><div class=\\\"md-list-item-text item-rank\\\"><span class=md-subhead>{{ item[\\\"@attr\\\"].rank }}</span></div><a href=\\\"{{ item.url }}\\\" target=_blank><img ng-if=\\\"item.image[1][\\'#text\\']\\\" ng-src=\\\"{{ item.image[1][\\'#text\\'] | trustAsResourceUrl }}\\\" class=\\\"md-avatar md-avatar-56\\\" alt=\\\"{{ item.name }}\\\"> <img ng-if=\\\"!item.image[1][\\'#text\\']\\\" ng-src=\\\"{{ $ctrl.placeholderAlbum | trustAsResourceUrl }}\\\" class=\\\"md-avatar md-avatar-56\\\" alt=\\\"{{ item.name }}\\\"></a><div class=md-list-item-text><a href=\\\"{{ item.url }}\\\" target=_blank><div>{{ item.name }}</div></a><a href=\\\"{{ item.artist.url }}\\\" class=secondary target=_blank><div>{{ item.artist.name }}</div></a></div><div flex=20 hide-xs class=\\\"md-list-item-text item-right\\\"><p>{{ item.playcount | number:0 | scrobbles }}</p><p>{{ (item.playcount / $ctrl.userPlaycount) * 100 | number:2 | percentage }}</p></div></md-list-item>\");\n$templateCache.put(\"app/components/listbox/top-artists.html\",\"<md-list-item class=md-2-line ng-repeat=\\\"item in $ctrl.userTopArtists\\\"><div class=\\\"md-list-item-text item-rank\\\"><span class=md-subhead>{{ item[\\\"@attr\\\"].rank }}</span></div><a href=\\\"{{ item.url }}\\\" target=_blank><img ng-if=\\\"item.image[1][\\'#text\\']\\\" ng-src=\\\"{{ item.image[1][\\'#text\\'] | trustAsResourceUrl }}\\\" class=\\\"md-avatar md-avatar-56\\\" alt=\\\"{{ item.name }}\\\"> <img ng-if=\\\"!item.image[1][\\'#text\\']\\\" ng-src=\\\"{{ $ctrl.placeholderArtist | trustAsResourceUrl }}\\\" class=\\\"md-avatar md-avatar-56\\\" alt=\\\"{{ item.name }}\\\"></a><div class=md-list-item-text><a href=\\\"{{ item.url }}\\\" target=_blank><div>{{ item.name }}</div></a></div><div flex=20 hide-xs class=\\\"md-list-item-text item-right\\\"><p>{{ item.playcount | number:0 | scrobbles }}</p><p>{{ (item.playcount / $ctrl.userPlaycount) * 100 | number:2 | percentage }}</p></div></md-list-item>\");\n$templateCache.put(\"app/components/listbox/top-tracks.html\",\"<md-list-item class=md-2-line ng-repeat=\\\"item in $ctrl.userTopTracks\\\"><div class=\\\"md-list-item-text item-rank\\\"><span class=md-subhead>{{ item[\\\"@attr\\\"].rank }}</span></div><a href=\\\"{{ item.url }}\\\" target=_blank><img ng-if=\\\"item.image[1][\\'#text\\']\\\" ng-src=\\\"{{ item.image[1][\\'#text\\'] | trustAsResourceUrl }}\\\" class=\\\"md-avatar md-avatar-56\\\" alt=\\\"{{ item.name }}\\\"> <img ng-if=\\\"!item.image[1][\\'#text\\']\\\" ng-src=\\\"{{ $ctrl.placeholderTrack | trustAsResourceUrl }}\\\" class=\\\"md-avatar md-avatar-56\\\" alt=\\\"{{ item.name }}\\\"></a><div class=md-list-item-text><a href=\\\"{{ item.url }}\\\" target=_blank><div>{{ item.name }}</div></a><a href=\\\"{{ item.artist.url }}\\\" class=secondary target=_blank><div>{{ item.artist.name }}</div></a></div><div flex=20 hide-xs class=\\\"md-list-item-text item-right\\\"><p>{{ item.playcount | number:0 | scrobbles }}</p><p>{{ (item.playcount / $ctrl.userPlaycount) * 100 | number:2 | percentage }}</p></div></md-list-item>\");\n$templateCache.put(\"app/components/tabs/tabs.html\",\"<md-tabs md-no-ink md-stretch-tabs=auto md-center-tabs=true md-border-bottom=true md-dynamic-height=true md-selected=selectedIndex ng-if=\\\"tabsVm.userPlaycount > 0\\\"><md-tab label=\\\"Top Artists\\\"><md-content><top-artists></top-artists></md-content></md-tab><md-tab label=\\\"Top Albums\\\"><md-content><top-albums></top-albums></md-content></md-tab><md-tab label=\\\"Top Tracks\\\"><md-content><top-tracks></top-tracks></md-content></md-tab><md-tab label=\\\"Recent Tracks\\\"><md-content><recent-tracks></recent-tracks></md-content></md-tab></md-tabs>\");}]);"],"sourceRoot":"/source/"}